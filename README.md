바우처 과제 2차

### 1. 그림 그리기 및 소개하기

![image](/doc/바우처설계도_w2n.png)


</br>

### 2. 요구사항

**(기본)** **바우처 관리 애플리케이션**

- [x]  바우처 관리 애플리케이션에 단위테스트를 작성해보세요.
    - 가능한 많은 단위 테스트코드를 작성하려고 노력해보세요.
    - 엣지 케이스(예외 케이스)를 고려해서 작성해주세요.
    - Hamcrest 의 메쳐들을 다양하게 작성해보고 익숙해져 보세요.

- [x]  (1주차엔 파일로 관리하게 했다.) 바우처 정보를 DB로 관리해보세요.
    - 바우처에 엔터티에 해당하는 vouchers 테이블을 한번 정의해보세요.
    - 바우처 레포지토리를 만들어보세요. (JdbcTemplate을 사용해서 구현)
    - 기존의 파일에서 바우처를 관리한 것을 vouchers 테이블을 통해서 CRUD가 되게 해보세요.

- [ ]  바우처 관리 애플리케이션에서도 과정에서 다루었던 고객을 적용해보세요.
   - customers 테이블 정의 및 추가
   - CustomerRepository 추가 및 JdbcTemplate을 사용해서 구현

- [ ] **(심화)** **바우처 지갑을 만들어보세요.**
  - 특정 고객에게 바우처를 할당할 수 있습니다.
  - 고객이 어떤 바우처를 보유하고 있는지 조회할 수 있어야 합니다.
  - 고객이 보유한 바우처를 제거할 수 있어야 합니다.
  - 특정 바우처를 보유한 고객을 조회할 수 있어야 합니다.

- [ ]  쿼리 빌더 적용 (sql 쿼리)

    
</br>

### 3. 작업 순서 목록

- [x] 바우처 생성 시 DB 저장 기능 구현
- [x] DB에 저장된 바우처 정보 전체 조회 기능 구현
- [x] 바우처 정보 전체 삭제 기능 구현
- [x] 바우처 ID 조건 조회 기능 구현
- [x] 바우처 ID 조건 삭제 기능 구현
- [x] 바우처 ID 조건 수정 기능 구현

#### 추가작업 순서 


</br>

### 3. 작업 순서 목록

- [x] 바우처 생성 시 DB 저장 기능 구현
- [x] DB에 저장된 바우처 정보 전체 조회 기능 구현
- [x] 바우처 정보 전체 삭제 기능 구현
- [x] 바우처 ID 조건 조회 기능 구현
- [x] 바우처 ID 조건 삭제 기능 구현
- [x] 바우처 ID 조건 수정 기능 구현

#### 추가작업 순서

- [x] 쿼리 생성을 위한 QueryBuilder 클래스, StringBuilder 멤버변수 추가
- [x] delete 메서드로 전체 삭제 SQL생성 기능 추가 및 바우처 전체 삭제 적용
- [x] insertInto, values 메서드로  저장 SQL생성 기능 및 바우처 저장 적용
- [x] where 메서드로 where 조건 SQL생성 기능 추가 및 바우처 아이디 조건 삭제 적용
- [x] and, or 메서드 추가
- [x] select  메서드로 조회 SQL생성 기능 추가 및 바우처 전체조회, 아이디 조건 조회 적용
- [x] update, set 메서드로 수정 SQL생성 기능 추가 및 바우처 수정 적용

</br>

- [ ] 바우처 이외의 도메인 기능을 위한 ServiceType 추가 Console 입력 적용
- [ ] ApplicationController 분기처리 로직을 ServiceType 분기 이후 바우처 요청별 분기 방식으로 변경
- [ ] 콘솔로 부터 입력 정보가 많은 생성, 수정에 대한 VoucherRequest 객체를 생성하고 정적 맴버 변수로  생성과 수정을 구분함
- [ ] 조회 DTO 리스트 정보를 재내릭으로 받을 수 있는 Response 객체를 생성하고 통합하여 출력할 수 있는 콘솔 기능 추가
- [ ] 단건 조회에 대한 DTO 반환값을 리스트로 변경
- [ ] 불필요한 바우처 정보 출력 메서드 제거

</br>

- [ ] 고객 도메인 추가 및 테이블 생성
- [ ] 서비스 타입 enum에 customer 추가
- [ ] 콘솔로 부터 입력 정보가 많은 생성, 수정에 대한 CustomerRequest 객체를 생성하고 정적 맴버 변수로  생성과 수정을 구분함
-  [ ] 콘솔로 부터 고객 입력 정보 받아오는 기능 추가
- [ ] 고객 DTO 생성
- [ ] 고객 생성 기능 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 고객 전체조회 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 고객 전체삭제 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 고객 ID 조건 조회 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 고객 ID 조건 삭제 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 고객 ID 조건 수정 컨트롤러, 레포지토리, 서비스 기능 추가


</br>

- [ ] 지갑 도메인 추가 및 테이블 생성
- [ ] 서비스 타입 enum에 wallet 추가
- [ ] 콘솔로 부터 입력 정보가 많은 생성, 수정에 대한 WalletRequest 객체를 생성하고 정적 맴버 변수로  생성과 수정을 구분함
- [ ] 콘솔로 부터 지갑 입력 정보 받아오는 기능 추가
- [ ] 지갑 DTO 생성
- [ ] 지갑 생성 기능 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 고객 ID 조건 지갑 전체 조회 기능 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 바우처 ID 조건 지갑 전체 조회 기능 컨트롤러, 레포지토리, 서비스 기능 추가
- [ ] 고객 ID, 바우처 ID 조건 지갑 삭제 기능 추가
- [ ] 서비스 타입 enum에 Wallet 추가 및 추상메서드 오버라이딩, 조건별 조회 내부 분기처리 및 지원하지 않는 기능 출력 처리
- [ ] 바우처 삭제시 해당 바우처 ID 조건 지갑 삭제 기능 추가
- [ ] 고객 삭제시 해당 고객 ID 조건 지갑 삭제 기능 추가

</br>

